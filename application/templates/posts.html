{% extends 'base.html' %}

{% block title %}
All site posts
{% endblock %}


{% block body %}
<div class="container mt-5">
    <h1>All posts</h1>
    <div class="mb-3">
        {% if current_user.is_authenticated %}
            <a class="btn btn-info" href="/create-article">Add new post</a>
        {% else %}
            <button class="btn btn-info" disabled>Add new post</button>
            <p>Need login</p>
        {% endif %}
    </div>

    {% if articles|length > 0 %}
    {% for a in articles %}
    <div class="alert alert-info">
        <h2>{{ a.title }}</h2>


        <p>{{ a.intro }}</p>
        <p><b>Date: {{ a.date.date() }}</b> By {{ a.user.name }}</p>
        <a href="/posts/{{ a.id }}" class="btn btn-warning">Read</a>
    </div>
    {% endfor %}
    {% else %}
    <p>We don't have any posts yet</p>
    {% endif %}
</div>
{% endblock %}